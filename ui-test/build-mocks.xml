<?xml version="1.0" encoding="UTF-8"?>
<project name="socialize-ui-mock-builder" default="build-ui-mocks" >

	<property file="local.properties" />
	<property file="build.properties" />
	<property file="default.properties" />
	
	<path id="mock.classpath">
		<pathelement path="libs/easymock.jar" />
		<pathelement path="libs/javassist-appmakr.jar" />
		<pathelement path="libs/socialize-robotium-2.5.jar" />
		<pathelement path="../ui-test/bin"/>
		<pathelement path="../ui/bin"/>
		<pathelement path="../ui-sample/bin"/>
		<pathelement path="libs/AndroidMockRuntime-appmakr-modified.jar" />
		<pathelement path="${sdk.dir}/platforms/android-7/android.jar" />
		<pathelement path="${sdk.dir}/tools/lib/anttasks.jar" />
		<pathelement path="${sdk.dir}/tools/lib/sdklib.jar" />
		<pathelement path="${sdk.dir}/tools/lib/androidprefs.jar" />
	</path>
	
	<target name="build-ui-mocks">

		<delete verbose="true" failonerror="false">
			<fileset dir="../ui-test/bin" includes="**/**" excludes="**/*Mock*"/>
		</delete>
		
		<javac
            debug="true" 
            destdir="../ui-test/bin"
            verbose="true"
            classpathref="mock.classpath"
			includeantruntime="false">
			<src path="../ui-test/src" />
			<src path="../ui-test/gen" />
			<compilerarg value="-ARegenerateFrameworkMocks=true"/>
		</javac>
	</target>

</project>