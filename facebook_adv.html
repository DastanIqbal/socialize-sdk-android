
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Advanced Facebook &mdash; Socialize Android SDK v2.1 documentation</title>
    
    <link rel="stylesheet" href="static/nature.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'v2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="shortcut icon" href="static/favicon.ico"/>
    <link rel="top" title="Socialize Android SDK v2.1 documentation" href="index.html?v=v2.1" />
    <link rel="next" title="Advanced Twitter" href="twitter_adv.html?v=v2.1" />
    <link rel="prev" title="Twitter Integration" href="twitter.html?v=v2.1" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="twitter_adv.html?v=v2.1" title="Advanced Twitter"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="twitter.html?v=v2.1" title="Twitter Integration"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html?v=v2.1">Socialize Android SDK v2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
      <META HTTP-EQUIV="Pragma" CONTENT="no-cache"/>
    <META HTTP-EQUIV="Expires" CONTENT="-1"/>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-9835027-5']);
    _gaq.push(['_setDomainName', '.getsocialize.com']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

    <script type="text/javascript" charset="utf-8">
      var is_ssl = ("https:" == document.location.protocol);
      var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
      document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript" charset="utf-8">
      var feedback_widget_options = {};
      feedback_widget_options.display = "overlay";
      feedback_widget_options.company = "socialize";
      feedback_widget_options.placement = "right";
      feedback_widget_options.color = "#222";
      feedback_widget_options.style = "question";
      feedback_widget_options.product = "socialize_android_sdk";
      feedback_widget_options.limit = "3";
      GSFN.feedback_widget.prototype.local_base_url = "http://support.getsocialize.com";
      GSFN.feedback_widget.prototype.local_ssl_base_url = "http://support.getsocialize.com";
      var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);
    </script><div class="section" id="advanced-facebook">
<h1>Advanced Facebook<a class="headerlink" href="#advanced-facebook" title="Permalink to this headline">¶</a></h1>
<div style="background-color:#ffe2a4;border-style:solid;border-color:#5e0000;border-width:1px;">

<table border="0">
	<tr>
		<td>
			<img src="static/flag.png"/>
		</td>
		<td>
			<div style="font-size:1.2em;font-weight:bold;padding:8px;color:#5e0000;padding-left:0px;">
			Advanced Use
			</div>
		</td>
	</tr>
</table>


<div style="font-size:0.9em;font-weight:normal;padding:8px;color:#5e0000;">
The following section is not required if you are simply using the <b>Action Bar</b>
</div>
</div><div class="section" id="linking-users-with-facebook">
<h2>Linking Users with Facebook<a class="headerlink" href="#linking-users-with-facebook" title="Permalink to this headline">¶</a></h2>
<p>If you are not using the ActionBar or want to manually link a user to their Facebook account you can do so with the <strong>link</strong> method</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">link</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocializeAuthListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAuthSuccess</span><span class="o">(</span><span class="n">SocializeSession</span> <span class="n">session</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// User was authed.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAuthFail</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>If you already have Facebook integration in your app and do not wish to replace this with the Socialize implementation you
can still link the user to Facebook within Socialize by providing the user&#8217;s Facebook auth token</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The user&#39;s Facebook auth token</span>
<span class="n">String</span> <span class="n">fbToken</span> <span class="o">=</span> <span class="s">&quot;ABCDEF...GHIJKL&quot;</span><span class="o">;</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">link</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">fbToken</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocializeAuthListener</span><span class="o">()</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAuthSuccess</span><span class="o">(</span><span class="n">SocializeSession</span> <span class="n">session</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// User was authed.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAuthFail</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="unlinking-users-from-facebook">
<h2>Unlinking Users from Facebook<a class="headerlink" href="#unlinking-users-from-facebook" title="Permalink to this headline">¶</a></h2>
<p>To unlink a user from their Facebook account simple call <strong>unlink</strong>.  This call executes synchronously.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Disconnect the user from their Facebook account</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">unlink</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>	
</pre></div>
</div>
</div>
<div class="section" id="posting-to-facebook">
<h2>Posting to Facebook<a class="headerlink" href="#posting-to-facebook" title="Permalink to this headline">¶</a></h2>
<p>By default all actions created using the SDK will provide the end user with the opportunity to share their
action with Facebook (if Facebook has been configured) however it is also possible to manually post content to a user&#8217;s
Facebook wall.</p>
<div class="section" id="posting-socialize-entities-to-facebook">
<h3>Posting Socialize Entities to Facebook<a class="headerlink" href="#posting-socialize-entities-to-facebook" title="Permalink to this headline">¶</a></h3>
<p>The simplest and most effective use of Facebook within Socialize is to post entities.  This approach takes full advantage of
Socialize SmartDownloads as well as automatically supporting Facebook Open Graph which helps maximize the effectiveness of your social strategy.</p>
<p>To post an entity to a user&#8217;s Facebook timeline simply call the <strong>postEntity</strong> method.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>
	
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">postEntity</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="s">&quot;Text to be posted&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkShareListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post returned from Facebook.</span>
		<span class="c1">// responseObject contains the raw JSON response from Facebook.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called just prior to the post.</span>
		<span class="c1">// postData contains the dictionary (map) of data to be posted.  </span>
		<span class="c1">// You can change this here to customize the post.</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
<div class="section" id="posting-directly-to-facebook">
<h3>Posting Directly to Facebook<a class="headerlink" href="#posting-directly-to-facebook" title="Permalink to this headline">¶</a></h3>
<p>If you want complete control over what is posted to Facebook, Socialize provides a simple interface to the Facebook Graph API.</p>
<p>Refer to the Facebook Graph API documentation for more specific implementation information</p>
<p><a class="reference external" href="http://developers.facebook.com/docs/reference/api/">http://developers.facebook.com/docs/reference/api/</a></p>
<p>Executing a <strong>POST</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The graph API path to be called</span>
<span class="n">String</span> <span class="n">graphPath</span> <span class="o">=</span> <span class="s">&quot;me/links&quot;</span><span class="o">;</span>

<span class="c1">// The data to be posted. This is based on the graphPath</span>
<span class="c1">// See http://developers.facebook.com/docs/reference/api/</span>
<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">postData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">,</span> <span class="s">&quot;A message to post&quot;</span><span class="o">);</span>
<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;link&quot;</span><span class="o">,</span> <span class="s">&quot;http://getsocialize.com&quot;</span><span class="o">);</span>
<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="s">&quot;Socialize SDK!&quot;</span><span class="o">);</span>
	
<span class="c1">// Execute a POST on facebook</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">graphPath</span><span class="o">,</span> <span class="n">postData</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkPostListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post returned from Facebook.</span>
		<span class="c1">// responseObject contains the raw JSON response from Facebook.</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>If you want to take full advantage of Socialize SmartDownloads and post the auto-generated SmartDownload urls for your entity or app you can
do this by creating a simple share object without propagation first.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Create a simple share object to get the propagation data</span>
<span class="kd">final</span> <span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>

<span class="n">ShareOptions</span> <span class="n">options</span> <span class="o">=</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">getUserShareOptions</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ShareUtils</span><span class="o">.</span><span class="na">registerShare</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="k">new</span> <span class="n">ShareAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Share</span> <span class="n">share</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="c1">// Get the propagation info from the result</span>
		<span class="n">PropagationInfoResponse</span> <span class="n">propagationInfoResponse</span> <span class="o">=</span> <span class="n">share</span><span class="o">.</span><span class="na">getPropagationInfoResponse</span><span class="o">();</span>
		
		<span class="n">PropagationInfo</span> <span class="n">propagationInfo</span> <span class="o">=</span> <span class="n">propagationInfoResponse</span><span class="o">.</span><span class="na">getPropagationInfo</span><span class="o">(</span><span class="n">SocialNetwork</span><span class="o">.</span><span class="na">FACEBOOK</span><span class="o">);</span>
		
		<span class="c1">// The graph API path to be called</span>
		<span class="n">String</span> <span class="n">graphPath</span> <span class="o">=</span> <span class="s">&quot;me/links&quot;</span><span class="o">;</span>

		<span class="c1">// The data to be posted. This is based on the graphPath</span>
		<span class="c1">// See http://developers.facebook.com/docs/reference/api/</span>
		<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">postData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
		<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">,</span> <span class="s">&quot;A message to post&quot;</span><span class="o">);</span>
		<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;link&quot;</span><span class="o">,</span> <span class="n">propagationInfo</span><span class="o">.</span><span class="na">getEntityUrl</span><span class="o">());</span> <span class="c1">// Use the SmartDownload URL</span>
		<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">,</span> <span class="n">entity</span><span class="o">.</span><span class="na">getDisplayName</span><span class="o">());</span>
			
		<span class="c1">// Execute a POST on facebook</span>
		<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">graphPath</span><span class="o">,</span> <span class="n">postData</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkListener</span><span class="o">()</span> <span class="o">{</span>
			
			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Handle error</span>
			<span class="o">}</span>
			
			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
				<span class="c1">// The user cancelled the operation.</span>
			<span class="o">}</span>
			
			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Called after the post returned from Facebook.</span>
				<span class="c1">// responseObject contains the raw JSON response from Facebook.</span>
			<span class="o">}</span>
			
			<span class="nd">@Override</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
				<span class="c1">// Called just prior to the post.</span>
			<span class="o">}</span>
		<span class="o">});</span>		
	<span class="o">}</span>
<span class="o">},</span> <span class="n">SocialNetwork</span><span class="o">.</span><span class="na">FACEBOOK</span><span class="o">);</span>
</pre></div>
</div>
<p>Executing a <strong>GET</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The graph API path to be called</span>
<span class="n">String</span> <span class="n">graphPath</span> <span class="o">=</span> <span class="s">&quot;me/links&quot;</span><span class="o">;</span>

<span class="c1">// Execute a GET on facebook</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">graphPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkPostListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post returned from Facebook.</span>
		<span class="c1">// responseObject contains the raw JSON response from Facebook.</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
<p>Executing a <strong>DELETE</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// The graph API path to be called</span>
<span class="n">String</span> <span class="n">graphPath</span> <span class="o">=</span> <span class="s">&quot;me/links/1234&quot;</span><span class="o">;</span>

<span class="c1">// Execute a DELETE on facebook</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">graphPath</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
		<span class="c1">// The user cancelled the operation.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called after the post returned from Facebook.</span>
		<span class="c1">// responseObject contains the raw JSON response from Facebook.</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onBeforePost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">PostData</span> <span class="n">postData</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Called just prior to the post.</span>
	<span class="o">}</span>
<span class="o">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="posting-photos-to-facebook">
<h2>Posting Photos to Facebook<a class="headerlink" href="#posting-photos-to-facebook" title="Permalink to this headline">¶</a></h2>
<p>You can easily post photo&#8217;s to a user&#8217;s Facebook Photo Album using the <strong>post</strong> method on <strong>FacebookUtils</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">//The &quot;this&quot; argument refers to the current Activity</span>
<span class="kd">final</span> <span class="n">Activity</span> <span class="n">context</span> <span class="o">=</span> <span class="k">this</span><span class="o">;</span>
	
<span class="kd">final</span> <span class="n">Entity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">Entity</span><span class="o">.</span><span class="na">newInstance</span><span class="o">(</span><span class="s">&quot;http://myentity.com&quot;</span><span class="o">,</span> <span class="s">&quot;My Name&quot;</span><span class="o">);</span>	
	
<span class="c1">// First create a Socialize share object so we get the correct URLs</span>
<span class="n">ShareOptions</span> <span class="n">options</span> <span class="o">=</span> <span class="n">ShareUtils</span><span class="o">.</span><span class="na">getUserShareOptions</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>

<span class="n">ShareUtils</span><span class="o">.</span><span class="na">registerShare</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">entity</span><span class="o">,</span> <span class="n">options</span><span class="o">,</span> <span class="k">new</span> <span class="n">ShareAddListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="n">SocializeException</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Handle error</span>
	<span class="o">}</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Share</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="c1">// We have the result, use the URLs to add to the post</span>
		<span class="n">PropagationInfo</span> <span class="n">propagationInfo</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getPropagationInfoResponse</span><span class="o">().</span><span class="na">getPropagationInfo</span><span class="o">(</span><span class="n">ShareType</span><span class="o">.</span><span class="na">FACEBOOK</span><span class="o">);</span>
		<span class="n">String</span> <span class="n">link</span> <span class="o">=</span> <span class="n">propagationInfo</span><span class="o">.</span><span class="na">getEntityUrl</span><span class="o">();</span>

		<span class="c1">// Now post to Facebook.</span>
		<span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">postData</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
		
		<span class="c1">// TODO: Get the URI of your image from the local device.</span>
		<span class="c1">// TODO: ***** DON&#39;T FORGET TO USE YOUR OWN IMAGE HERE (See the sample app for a working example) ****</span>
		<span class="n">Uri</span> <span class="n">photoUri</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

		<span class="c1">// Format the picture for Facebook</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="kt">byte</span><span class="o">[]</span> <span class="n">imageData</span> <span class="o">=</span> <span class="n">FacebookUtils</span><span class="o">.</span><span class="na">getImageForPost</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">photoUri</span><span class="o">);</span>
			
			<span class="c1">// Add the photo to the post</span>
			<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;photo&quot;</span><span class="o">,</span> <span class="n">imageData</span><span class="o">);</span>
			
			<span class="c1">// Add the link returned from Socialize to use SmartDownloads</span>
			<span class="n">postData</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;caption&quot;</span><span class="o">,</span> <span class="s">&quot;A test photo of something &quot;</span> <span class="o">+</span> <span class="n">link</span><span class="o">);</span>
			
			<span class="c1">// Add other fields to postData as necessary</span>
			
			<span class="c1">// Post to me/photos</span>
			<span class="n">FacebookUtils</span><span class="o">.</span><span class="na">post</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="s">&quot;me/photos&quot;</span><span class="o">,</span> <span class="n">postData</span><span class="o">,</span> <span class="k">new</span> <span class="n">SocialNetworkPostListener</span><span class="o">()</span> <span class="o">{</span>
				
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onNetworkError</span><span class="o">(</span><span class="n">Activity</span> <span class="n">context</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">network</span><span class="o">,</span> <span class="n">Exception</span> <span class="n">error</span><span class="o">)</span> <span class="o">{</span>
					<span class="c1">// Handle error</span>
				<span class="o">}</span>
				
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCancel</span><span class="o">()</span> <span class="o">{</span>
					<span class="c1">// The user cancelled the auth process</span>
				<span class="o">}</span>
				
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAfterPost</span><span class="o">(</span><span class="n">Activity</span> <span class="n">parent</span><span class="o">,</span> <span class="n">SocialNetwork</span> <span class="n">socialNetwork</span><span class="o">,</span> <span class="n">JSONObject</span> <span class="n">responseObject</span><span class="o">)</span> <span class="o">{</span>
					<span class="c1">// The post was successful</span>
				<span class="o">}</span>
			<span class="o">});</span>			
		<span class="o">}</span>
		<span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">// Handle error</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">},</span> <span class="n">SocialNetwork</span><span class="o">.</span><span class="na">FACEBOOK</span><span class="o">);</span>	
</pre></div>
</div>
</div>
<div class="section" id="facebook-single-sign-on-sso">
<h2>Facebook Single Sign On (SSO)<a class="headerlink" href="#facebook-single-sign-on-sso" title="Permalink to this headline">¶</a></h2>
<p>Some users have reported having problems with the Single Sign On implementation in the Facebook SDK.</p>
<p>If you have experienced problems with this (e.g. the &#8220;invalid_key&#8221; error), you can easily disable this feature:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="c1">// Disable ONLY if you experience problems</span>
<span class="c1">// The &quot;this&quot; argument refers to the current Activity</span>
<span class="n">ConfigUtils</span><span class="o">.</span><span class="na">getConfig</span><span class="o">(</span><span class="k">this</span><span class="o">).</span><span class="na">setFacebookSingleSignOnEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>	
</pre></div>
</div>
<script type="text/javascript">
</script></div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html?v=v2.1" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<h3><a href="index.html?v=v2.1">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whats_new.html?v=v2.1">What&#8217;s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html?v=v2.1">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_bar.html?v=v2.1">Socialize Action Bar</a></li>
<li class="toctree-l1"><a class="reference internal" href="like_button.html?v=v2.1">Custom Like Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="facebook.html?v=v2.1">Facebook Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="twitter.html?v=v2.1">Twitter Integration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Advanced Facebook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#linking-users-with-facebook">Linking Users with Facebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unlinking-users-from-facebook">Unlinking Users from Facebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="#posting-to-facebook">Posting to Facebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="#posting-photos-to-facebook">Posting Photos to Facebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="#facebook-single-sign-on-sso">Facebook Single Sign On (SSO)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="twitter_adv.html?v=v2.1">Advanced Twitter</a></li>
<li class="toctree-l1"><a class="reference internal" href="push_notifications.html?v=v2.1">SmartAlerts (Push Notifications)</a></li>
<li class="toctree-l1"><a class="reference internal" href="entity_loader.html?v=v2.1">Entity Loaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdk_user_guide.html?v=v2.1">Socialize Android Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html?v=v2.1">Configuration Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="amazon.html?v=v2.1">Amazon AppStore URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="proguard.html?v=v2.1">ProGuard Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html?v=v2.1">Troubleshooting &amp; Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html?v=v2.1">Change Log</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="twitter_adv.html?v=v2.1" title="Advanced Twitter"
             >next</a></li>
        <li class="right" >
          <a href="twitter.html?v=v2.1" title="Twitter Integration"
             >previous</a> |</li>
        <li><a href="index.html?v=v2.1">Socialize Android SDK v2.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Socialize Inc.
    </div>
  </body>
</html>